<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Shop</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/main.css}">
    <link rel="stylesheet" th:href="@{/css/deals.css}">
    <link rel="stylesheet" th:href="@{/css/product-modal.css}">
    <link rel="stylesheet" th:href="@{/css/shop-now.css}">
</head>
<body>
<!-- Top bar -->
<div class="top-bar">
    <a href="#">Sell on E-Shop</a>
    <a href="#">Help & Contact</a>
</div>

<!-- Main header -->
<header class="main-header">
    <div class="left-section">
        <a href="/" class="logo">E-Shop</a>

        <div class="categories-dropdown">
            <button class="categories-button">CATEGORIES ‚ñº</button>
            <div class="dropdown-content">
                <a href="#">Option 1</a>
                <a href="#">Option 2</a>
                <a href="#">Option 3</a>
            </div>
        </div>
    </div>

    <div class="search-container">
        <input type="text" class="search-bar" placeholder="Search for products, categories or shops">
        <button class="search-icon">üîç</button>
    </div>

    <div class="right-nav">
        <a href="/login">Log In</a>
        <a href="/cart">üõí Cart</a>
    </div>
</header>

<!-- Hero Slider -->
<div class="hero-slider">
    <div class="slides-container">
        <!-- Slide 1 -->
        <div class="slide">
            <div class="slide-content">
                <h1>Present Your Products to Millions</h1>
                <p>Discover amazing deals on thousands of products from our trusted sellers. Shop now and enjoy fast delivery!</p>
                <a href="#" class="shop-now-btn">Shop Now ‚Ä∫</a>
            </div>
            <div class="slide-image" style="background-color: #555;">
                <!-- Image placeholder 1 -->
            </div>
        </div>

        <!-- Slide 2 -->
        <div class="slide">
            <div class="slide-content">
                <h1>New Arrivals Every Day</h1>
                <p>Be the first to discover our newest products and exclusive collections before they sell out.</p>
                <a href="#" class="shop-now-btn">Explore New ‚Ä∫</a>
            </div>
            <div class="slide-image" style="background-color: #446;">
                <!-- Image placeholder 2 -->
            </div>
        </div>

        <!-- Slide 3 -->
        <div class="slide">
            <div class="slide-content">
                <h1>Top Brands, Lowest Prices</h1>
                <p>Find all your favorite brands at unbeatable prices. Quality products that won't break the bank.</p>
                <a href="#" class="shop-now-btn">View Deals ‚Ä∫</a>
            </div>
            <div class="slide-image" style="background-color: #455;">
                <!-- Image placeholder 3 -->
            </div>
        </div>

        <!-- Slide 4 -->
        <div class="slide">
            <div class="slide-content">
                <h1>Free Shipping on Orders</h1>
                <p>Enjoy free shipping on all orders over $50. No promo code needed - discount applied at checkout.</p>
                <a href="#" class="shop-now-btn">Start Shopping ‚Ä∫</a>
            </div>
            <div class="slide-image" style="background-color: #544;">
                <!-- Image placeholder 4 -->
            </div>
        </div>

        <!-- Slide 5 -->
        <div class="slide">
            <div class="slide-content">
                <h1>Join Our Rewards Program</h1>
                <p>Earn points with every purchase and redeem them for discounts on future orders. Sign up today!</p>
                <a href="#" class="shop-now-btn">Join Now ‚Ä∫</a>
            </div>
            <div class="slide-image" style="background-color: #654;">
                <!-- Image placeholder 5 -->
            </div>
        </div>
    </div>

    <!-- Navigation arrows -->
    <div class="slider-nav">
        <button class="nav-btn prev-btn">‚ùÆ</button>
        <button class="nav-btn next-btn">‚ùØ</button>
    </div>

    <!-- Dots navigation -->
    <div class="slider-dots">
        <span class="dot active" data-index="0"></span>
        <span class="dot" data-index="1"></span>
        <span class="dot" data-index="2"></span>
        <span class="dot" data-index="3"></span>
        <span class="dot" data-index="4"></span>
    </div>
</div>

<!-- Features -->
<section class="features">
    <div class="feature">
        <span class="feature-icon">üöö</span>
        <h3>Fast Delivery</h3>
        <p>Same Day Delivery</p>
    </div>
    <div class="feature">
        <span class="feature-icon">üí≥</span>
        <h3>Secure Payment</h3>
        <p>Multiple Payment Options</p>
    </div>
    <div class="feature">
        <span class="feature-icon">üéß</span>
        <h3>Customer Support</h3>
        <p>24/7 Customer Service</p>
    </div>
</section>

<!-- Deals of the Month Section -->
<section class="deals-monthly-section">
    <h2 class="deals-monthly-title">Deals of the Month</h2>
    <div class="deals-monthly-container">
        <!-- Thay th·∫ø b·∫±ng l·∫∑p Thymeleaf -->
        <div th:each="product : ${dealProducts}" class="deals-monthly-card">
            <div class="deals-monthly-card-content">
                <span class="deals-monthly-discount">-20%</span>
                <img th:src="${product.imagePath}" th:alt="${product.title}" class="deals-monthly-image">
                <div class="deals-monthly-info">
                    <h3 class="deals-monthly-product-title" th:text="${product.title}">Product Title</h3>
                    <div class="deals-monthly-price">
                        <div>
                            <span class="deals-monthly-original-price" th:text="${product.price * 1.2}">Original Price</span>
                            <span class="deals-monthly-current-price" th:text="${product.price}">Current Price</span>
                        </div>
                        <button class="deals-monthly-cart-btn">Add to Cart</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Similar changes for Shop Now section -->

<!-- Shop Now Section -->
<section class="shop-now-section">
    <h2 class="shop-now-title">Shop Now!!!</h2>
    <div class="shop-now-container">
        <!-- S·ª≠ d·ª•ng Thymeleaf ƒë·ªÉ l·∫∑p qua danh s√°ch s·∫£n ph·∫©m -->
        <div th:each="product : ${shopNowProducts}"
             class="shop-now-card"
             th:attr="data-title=${product.title},
                     data-price=${product.price},
                     data-source=${product.source},
                     data-weight=${product.weight},
                     data-size=${product.size},
                     data-category=${product.category}">
            <img th:src="${product.imagePath}"
                 th:alt="${product.title}"
                 class="shop-now-image">
            <div class="shop-now-info">
                <h3 class="shop-now-product-title" th:text="${product.title}">Product Title</h3>
                <p class="shop-now-product-price" th:text="${'$' + #numbers.formatDecimal(product.price, 0, 2)}">Price</p>
            </div>
        </div>
    </div>
</section>
<!-- Product Modal -->
<div class="product-modal" id="productModal">
    <div class="product-modal-content">
        <button class="close-modal-btn" onclick="closeProductModal()">√ó</button>
        <img src="" alt="Product" class="product-modal-image" id="modalProductImage">
        <div class="product-modal-details">
            <h2 class="product-modal-title" id="modalProductTitle"></h2>
            <p class="product-modal-info" id="modalProductCategory"></p>
            <p class="product-modal-info" id="modalProductSource"></p>
            <p class="product-modal-info" id="modalProductWeight"></p>
            <p class="product-modal-info" id="modalProductSize"></p>
            <p class="product-modal-price" id="modalProductPrice"></p>
            <button class="add-to-cart-modal-btn">Add to Cart</button>
        </div>
    </div>
</div>

<script>
    document.querySelectorAll('.shop-now-card').forEach(card => {
        card.addEventListener('click', function() {
            const modal = document.getElementById('productModal');
            const title = this.getAttribute('data-title');
            const price = this.getAttribute('data-price');
            const source = this.getAttribute('data-source');
            const weight = this.getAttribute('data-weight');
            const size = this.getAttribute('data-size');
            const category = this.getAttribute('data-category');
            const imageSrc = this.querySelector('.shop-now-image').src;

            document.getElementById('modalProductImage').src = imageSrc;
            document.getElementById('modalProductTitle').textContent = title;
            document.getElementById('modalProductSource').textContent = `Source: ${source}`;
            document.getElementById('modalProductWeight').textContent = `Weight: ${weight}`;
            document.getElementById('modalProductSize').textContent = `Size: ${size}`;
            document.getElementById('modalProductCategory').textContent = `Category: ${category}`;
            document.getElementById('modalProductPrice').textContent = price;

            modal.style.display = 'flex';
        });
    });

    function closeProductModal() {
        document.getElementById('productModal').style.display = 'none';
    }

    // Close modal when clicking outside
    window.addEventListener('click', function(event) {
        const modal = document.getElementById('productModal');
        if (event.target === modal) {
            modal.style.display = 'none';
        }
    });
</script>

<!-- Slider Script -->
<script>
    document.addEventListener("DOMContentLoaded", function() {
        const slidesContainer = document.querySelector('.slides-container');
        const slides = document.querySelectorAll('.slide');
        const dots = document.querySelectorAll('.dot');
        const prevBtn = document.querySelector('.prev-btn');
        const nextBtn = document.querySelector('.next-btn');

        let currentIndex = 0;
        const totalSlides = slides.length;

        // Function to update slider position
        function updateSlider() {
            slidesContainer.style.transform = `translateX(-${currentIndex * 100}%)`;

            // Update active dot
            dots.forEach(dot => dot.classList.remove('active'));
            dots[currentIndex].classList.add('active');
        }

        // Next slide
        function nextSlide() {
            currentIndex = (currentIndex + 1) % totalSlides;
            updateSlider();
        }

        // Previous slide
        function prevSlide() {
            currentIndex = (currentIndex - 1 + totalSlides) % totalSlides;
            updateSlider();
        }

        // Event listeners
        nextBtn.addEventListener('click', nextSlide);
        prevBtn.addEventListener('click', prevSlide);

        // Dot navigation
        dots.forEach(dot => {
            dot.addEventListener('click', function() {
                currentIndex = parseInt(this.getAttribute('data-index'));
                updateSlider();
            });
        });

        // Auto slide (optional)
        let slideInterval = setInterval(nextSlide, 5000);

        // Pause auto slide on hover
        const slider = document.querySelector('.hero-slider');
        slider.addEventListener('mouseenter', () => {
            clearInterval(slideInterval);
        });

        slider.addEventListener('mouseleave', () => {
            slideInterval = setInterval(nextSlide, 5000);
        });
    });
</script>
</body>
</html>